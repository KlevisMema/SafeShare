@using SafeShare.Client.Shared.Forms;
@using System.Text;

<MudPaper Width="350px" Class="d-inline-flex py-3" Elevation="0">

    <MudNavMenu Bordered="true" Class="mud-width-full" Color="Color.Surface">

        <MudNavLink Href="" Icon="@Icons.Material.Filled.Dashboard" IconColor="Color.Inherit">Dashboard</MudNavLink>

        <MudNavGroup Title="Profile" Icon="@Icons.Material.Filled.Person" IconColor="Color.Inherit" Expanded="false">

            <MudNavLink Icon="@Icons.Material.Filled.RemoveRedEye" IconColor="Color.Inherit">See profile</MudNavLink>
            <MudNavLink Icon="@Icons.Material.Filled.Edit" IconColor="Color.Inherit">Update Data</MudNavLink>
            <MudNavLink Icon="@Icons.Material.Filled.Password" IconColor="Color.Inherit">Change Email</MudNavLink>
            <MudNavLink Icon="@Icons.Material.Filled.Email" IconColor="Color.Inherit">Change Password</MudNavLink>

            <MudNavLink Icon="@Icons.Material.Filled.Delete" IconColor="Color.Inherit" OnClick="OnButtonClicked">
                Deactivate Account
            </MudNavLink>

        </MudNavGroup>

        <MudDivider Class="my-2" />

        <MudTooltip Text="Invite" Color="Color.Primary" Placement="MudBlazor.Placement.Bottom">
            <MudFab Color="Color.Primary" StartIcon="@Icons.Material.Filled.GroupAdd" Size="MudBlazor.Size.Small" Class="m-sm-2" />
        </MudTooltip>

        <MudTooltip Text="Search" Color="Color.Primary" Placement="MudBlazor.Placement.Bottom">
            <MudFab Color="Color.Primary" StartIcon="@Icons.Material.Filled.Search" Size="MudBlazor.Size.Small" Class="m-sm-2" />
        </MudTooltip>

        <MudNavGroup Title="Groups Created" Icon="@Icons.Material.Filled.PeopleAlt" IconColor="Color.Inherit" Expanded="false">
            @if (GroupTypes is not null && GroupTypes.GroupsCreated is not null)
            {
                @foreach (var group in GroupTypes.GroupsCreated )
                {
                    <MudNavLink Icon="@Icons.Material.Filled.People" IconColor="Color.Inherit">@group.GroupName</MudNavLink>
                }
            }
          
        </MudNavGroup>

        <MudNavGroup Title="Groups Joined" Icon="@Icons.Material.Filled.PeopleAlt" IconColor="Color.Inherit" Expanded="false">
            @if (GroupTypes is not null && GroupTypes.GroupsJoined is not null)
            {
                @foreach (var group in GroupTypes.GroupsJoined)
                {
                    <MudNavLink Icon="@Icons.Material.Filled.People" IconColor="Color.Inherit">@group.GroupName</MudNavLink>
                }
            }
        </MudNavGroup>

    </MudNavMenu>

</MudPaper>


<MudMessageBox @ref="mbox" Title="Delete?" CancelText="No">

    <MessageContent>
        Are you sure you want to deactivate your account?
    </MessageContent>


    <YesButton>
        <MudButton Variant="Variant.Filled" Color="Color.Error" StartIcon="@Icons.Material.Filled.DeleteForever">Delete!</MudButton>
    </YesButton>


</MudMessageBox>